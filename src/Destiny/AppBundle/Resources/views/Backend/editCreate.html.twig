{% extends "DestinyAppBundle::backendBase.html.twig" %}

    {% block backendTitle %}
        {{ entity | capitalize }}
        {% if app.request.attributes.get('_route') == 'editBackend' %}
            <a class="btn btn-success pull-right" href="#">
                <i class="fa fa-plus-circle"></i>

                Nuevo idioma
            </a>
        {% endif %}
    {% endblock %}

{% block backendBody %}
    <h2 class="sub-header">
        {% if app.request.attributes.get('_route') == 'editBackend' %}
            Editando: {{ form.vars.value }}
        {% else %}
            Nuevo Idioma
        {% endif %}
        <a class="btn btn-success pull-right" href="{{ path('listBackend',{'entity':entity}) }}">
            <i class="fa fa-chevron-circle-left"></i>

            Volver
        </a>
    </h2>

    <form action="#" class="form-horizontal col-md-6" role="form" method="post" {{ form_enctype(form) }}>

        {% for field in form.children if field.vars.name != '_token' %}
            <div class="form-group {% if not field.vars.valid %}has-error{% endif %}">
                {% set field_label = entity_fields[field.vars.name]['label']|default(null) %}
                {{ form_label(field, field_label|trans, { label_attr: { class: 'col-sm-3 control-label' } }) }}
                <div class="col-sm-12">
                    {{ form_widget (field,{'attr':{'class':'form-control'}}) }}
                    {{ form_errors(field) }}
                </div>
            </div>
        {% endfor %}

        {{ form_rest(form) }}
        <button type="submit" class="btn btn-default">Submit</button>
    </form>
    <div class="col-md-6">
        <h5 class="sub-header">Imagen Actual</h5>
        <img class="img-responsive" src="{{ asset(form.vars.value.webPath) }}">
    </div>

{% endblock %}